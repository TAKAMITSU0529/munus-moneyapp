# 投資信託積立シミュレーター - デザイン設計書

## アプリの目的
投資信託の積立（毎月積立）を、利回り（年率）・期間・積立額から直感的に理解できるようにする。「20年後/30年後にいくら?」だけでなく、途中経過（年ごと）・増え方の内訳・リスク感（ブレ）も分かるようにする。初心者が躓きやすいポイント（利回りの意味、複利、手数料、税金、取り崩し）をUIで自然に補助する。

## 想定ユーザー
- 資産運用初心者〜ライト層（NISAを検討/開始した人、毎月いくらが妥当か悩んでいる人）
- 数字が苦手な人でも「例」を起点に試せる人

## デザインの基本方針
- **モバイルファースト**: 縦向き（9:16）、片手操作を前提
- **iOS Human Interface Guidelines準拠**: iOSネイティブアプリのような操作感
- **直感的な入力**: スライダーとプリセットで簡単に試せる
- **視覚的な理解**: グラフと色分けで複利効果を直感的に把握
- **段階的な情報開示**: 初心者向けにシンプルな初期画面から、詳細情報へ段階的にアクセス

## カラーパレット
- **プライマリカラー**: #4A90E2（信頼感のある青）
- **アクセントカラー**: #50C878（成長を表す緑）
- **警告カラー**: #F5A623（リスクを表すオレンジ）
- **背景色（ライト）**: #FFFFFF
- **背景色（ダーク）**: #1C1C1E
- **カード背景（ライト）**: #F5F5F7
- **カード背景（ダーク）**: #2C2C2E
- **テキスト（プライマリ）**: #000000 / #FFFFFF
- **テキスト（セカンダリ）**: #6B6B6B / #AEAEB2

## スクリーン一覧

### 1. ホーム画面（シミュレーション画面）
**目的**: メインのシミュレーション機能を提供

**主要コンテンツ**:
- **入力セクション**（上部）
  - 毎月の積立額（スライダー + 直接入力）: 5,000円〜100,000円
  - 積立期間（スライダー + 直接入力）: 5年〜40年
  - 想定利回り（スライダー + 直接入力）: 0%〜10%
  - プリセットボタン（例: 「つみたてNISA標準」「保守的」「積極的」）

- **結果表示セクション**（中央）
  - 大きく目立つ最終資産額（元本+運用益）
  - 元本と運用益の内訳（色分け）
  - 簡潔な説明文（例: 「20年後には約800万円になります」）

- **グラフセクション**（下部）
  - 年ごとの資産推移グラフ（折れ線グラフ）
  - 元本と運用益を積み上げ表示
  - タップで詳細表示

**ユーザーフロー**:
1. アプリ起動 → ホーム画面表示（デフォルト値で計算済み）
2. スライダーで値を変更 → リアルタイムで結果更新
3. プリセットボタンタップ → 典型的なパターンを即座に試せる
4. グラフタップ → 詳細画面へ遷移

### 2. 詳細画面（年次推移詳細）
**目的**: 年ごとの詳細な推移と内訳を確認

**主要コンテンツ**:
- **年次テーブル**
  - 各年の元本累計、運用益、合計資産額
  - スクロール可能なリスト表示
  - 各行タップで詳細ツールチップ表示

- **内訳グラフ**
  - 積み上げ棒グラフ（元本 vs 運用益）
  - 複利効果の視覚化

- **リスクシミュレーション**（オプション）
  - 利回りのブレを考慮した範囲表示
  - 楽観的/悲観的シナリオ

**ユーザーフロー**:
1. ホーム画面のグラフタップ → 詳細画面表示
2. 年次テーブルをスクロールして確認
3. 戻るボタンでホーム画面へ

### 3. 設定・ヘルプ画面
**目的**: 詳細設定と初心者向けガイド

**主要コンテンツ**:
- **詳細設定**
  - 手数料率の設定（信託報酬など）
  - 税金の考慮（NISA/特定口座）
  - 取り崩しシミュレーション（退職後の取り崩し計画）

- **用語解説**
  - 利回りとは？
  - 複利効果とは？
  - NISAとは？
  - 手数料の影響は？

- **プリセット管理**
  - カスタムプリセットの保存
  - プリセットの編集・削除

**ユーザーフロー**:
1. ホーム画面の設定アイコンタップ → 設定画面表示
2. 詳細設定を変更 → ホーム画面に反映
3. 用語解説をタップ → モーダルで説明表示

## 主要ユーザーフロー

### フロー1: 初回起動からシミュレーション
1. アプリ起動
2. ホーム画面表示（デフォルト値: 月3万円、20年、利回り5%）
3. スライダーで積立額を変更（例: 5万円）
4. リアルタイムで結果更新（最終資産額、グラフ）
5. 「つみたてNISA標準」プリセットをタップ
6. プリセット値に更新（月3.3万円、20年、利回り5%）
7. グラフをタップして詳細画面へ
8. 年次推移を確認
9. 戻るボタンでホーム画面へ

### フロー2: 詳細設定の変更
1. ホーム画面の設定アイコンをタップ
2. 設定画面表示
3. 「手数料を考慮する」をオンにして、信託報酬0.5%を設定
4. 保存ボタンをタップ
5. ホーム画面に戻り、手数料を考慮した結果が表示される

### フロー3: 用語解説の確認
1. ホーム画面で「利回り」の横の「?」アイコンをタップ
2. モーダルで「利回りとは？」の説明が表示される
3. 閉じるボタンでモーダルを閉じる

## 初心者向け補助機能

### 1. プリセット例
- **つみたてNISA標準**: 月33,333円、20年、利回り5%
- **保守的**: 月20,000円、30年、利回り3%
- **積極的**: 月50,000円、15年、利回り7%
- **老後準備**: 月30,000円、30年、利回り5%

### 2. インラインヘルプ
- 各入力項目の横に「?」アイコン
- タップでモーダルまたはツールチップで説明表示

### 3. リアルタイムフィードバック
- スライダー操作中に結果が即座に更新
- 「この条件だと○○年後に○○万円になります」のような説明文

### 4. 視覚的な内訳表示
- 元本と運用益を色分けして表示
- 複利効果を視覚的に理解しやすくする

## レイアウトとスペーシング
- **8ptグリッド**: すべてのスペーシングは8の倍数（8, 16, 24, 32）
- **パディング**: 画面端から16pt、セクション間は24pt
- **カードの角丸**: 12pt
- **ボタンの角丸**: 8pt
- **タッチターゲット**: 最小44pt × 44pt

## タイポグラフィ
- **大見出し（最終資産額）**: 40pt、Bold
- **中見出し（セクションタイトル）**: 20pt、Semibold
- **本文**: 16pt、Regular、行間24pt
- **キャプション**: 14pt、Regular、行間20pt
- **ラベル**: 12pt、Medium

## アイコン
- **ホームタブ**: house.fill
- **設定タブ**: gearshape.fill
- **ヘルプアイコン**: questionmark.circle
- **グラフアイコン**: chart.bar.fill
- **すべてFilledスタイルで統一**

## アニメーション
- **スライダー操作**: 結果の数値がスムーズにカウントアップ
- **グラフ描画**: 画面表示時にアニメーションで描画
- **画面遷移**: iOS標準のプッシュ/ポップアニメーション

## データ永続化
- **ローカルストレージ（AsyncStorage）を使用**
- 最後に入力した値を保存し、次回起動時に復元
- カスタムプリセットの保存
- クラウド同期は不要（単一デバイスでの利用を想定）
